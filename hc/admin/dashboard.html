<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brains - Admin Dashboard Help Center</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../../css/styleMain.css">
  <link rel="stylesheet" href="../../css/RotatingBorder.css">
  <link rel="stylesheet" href="../../css/responsiveDesign.css" />
  <link rel="stylesheet" href="../../css/index.css">
  <link rel="stylesheet" href="../../css/admin.css">
  <link rel="stylesheet" href="../../css/chatbot.css">
  <link rel="shortcut icon" type="image/x-icon" href="../../Images/brains.ico" />

</head>

<body>
  <!-- Navbar -->
  <header>
    <div class="container nav-container">
      <div class="logo">
        <a href="../../index.html#home" aria-label="logo">
          <img src="../../Images/BLogo.png" alt="Brains POS Logo">
          <h1>Brains</h1>
        </a>
      </div>

      <nav>
        <ul>
          <li><a href="../../index.html#home" style="--i:1;">Home</a></li>
          <li><a href="../../index.html#about" style="--i:2;">About</a></li>
          <li><a href="../../index.html#features" style="--i:3;">Features</a></li>
          <li><a href="../../careers/careers.html" style="--i:4;">Careers</a></li>
          <li><a href="../../index.html#contact" style="--i:5;">Contact</a></li>
          <li><a href="../../Demo/Products.html" style="--i:6;">Demo</a></li>

         <!-- Mobile-only links -->
                    <li class="mobile-only"><a href="../HelpCenter.html" style="--i:7;">Help Center</a></li>
                    <li class="mobile-only"><a href="login.html" style="--i:8;">Logout</a></li>
                </ul>
            </nav>

            <div class="nav-right" id="nav-right">
                <!-- Desktop Help Center Button -->
                <div class="desktop-only" data-theme="midnight">
                    <a href="../HelpCenter.html"
                        class="styles_button__YDNft styles_featuredButton__zj76v styles_variant_pill__TyvvY"
                        id="rotatingButton">
                        <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" class="styles_path__783Mk"
                            width="100%" height="100%">
                            <rect fill="none" width="100%" height="100%" rx="200" ry="200"></rect>
                        </svg>
                        <div class="styles_circleContainer__JKTvt">
                            <div class="styles_circleMover__l86dQ" id="circleMover">
                                <div class="styles_circle__Ky5nK"></div>
                            </div>
                        </div>
                        <div class="styles_featuredButtonContent__DVHK_">
                            <figure class="styles_featuredButtonIconContainer__s1kUE styles_theme_midnight__brLAf">
                                <span class="styles_featuredButtonIcon__qmKlU">
                                    <svg viewBox="0 0 16 16" fill="none" width="16" height="16"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M4.82825 9.68706C4.71549 9.38235 4.28451 9.38235 4.17175 9.68706L3.61053 11.2037C3.57508 11.2995 3.49955 11.3751 3.40375 11.4105L1.88708 11.9717C1.58236 12.0845 1.58236 12.5155 1.88708 12.6282L3.40375 13.1895C3.49955 13.2249 3.57508 13.3004 3.61053 13.3962L4.17175 14.9129C4.28451 15.2176 4.71549 15.2176 4.82825 14.9129L5.38947 13.3962C5.42492 13.3004 5.50045 13.2249 5.59625 13.1895L7.11292 12.6282C7.41764 12.5155 7.41764 12.0845 7.11292 11.9717L5.59625 11.4105C5.50045 11.3751 5.42492 11.2995 5.38947 11.2037L4.82825 9.68706Z"
                                            fill="currentColor"></path>
                                        <path
                                            d="M10.7282 1.68707C10.6155 1.38235 10.1845 1.38235 10.0718 1.68706L8.94334 4.73654C8.90789 4.83235 8.83236 4.90788 8.73656 4.94333L5.68708 6.07174C5.38236 6.18449 5.38236 6.61548 5.68708 6.72824L8.73656 7.85665C8.83236 7.8921 8.90789 7.96763 8.94334 8.06343L10.0718 11.1129C10.1845 11.4176 10.6155 11.4176 10.7282 11.1129L11.8567 8.06343C11.8921 7.96763 11.9676 7.8921 12.0634 7.85665L15.1129 6.72824C15.4176 6.61548 15.4176 6.18449 15.1129 6.07174L12.0634 4.94333C11.9676 4.90788 11.8921 4.83235 11.8567 4.73654L10.7282 1.68707Z"
                                            fill="currentColor"></path>
                                    </svg>
                                </span>
                            </figure>
                            Help Center
                        </div>
                    </a>
                </div>

                <!-- Desktop Login Link -->
                <a href="login.html" class="desktop-only whitemode" id="logout-btn">Logout</a>

        <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">
          <i class="fas fa-sun"></i>
          <i class="fas fa-moon"></i>
        </button>
      </div>

      <a href="javascript:void(0)" class="burger-menu" aria-label="menu">
        <i class="fas fa-bars"></i>
      </a>
    </div>
  </header>

  <!-- Admin Dashboard Section -->
  <section class="dashboard-protected">
    <div class="admin-container">

      <div class="admin-header">
        <div class="header-left">
          <h1><i class="fas fa-chart-line"></i> Help Center Analytics</h1>
          <p class="subtitle">Performance overview and user feedback insights</p>
        </div>

        <div class="header-right">
          <div class="user-info">
            <i class="fas fa-user"></i>
            <span id="admin-username">Admin</span>
          </div>

          <button id="logout-btn" class="btn btn-danger">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>

      <!-- Header Actions -->
      <div class="header-actions">
        <button id="refresh-btn" class="btn btn-primary">
          <i class="fas fa-sync-alt"></i> Refresh
        </button>
        <button id="export-btn" class="btn btn-secondary">
          <i class="fas fa-download"></i> Export CSV
        </button>
        <button id="cleanup-btn" class="btn btn-warning">
          <i class="fas fa-broom"></i> Cleanup Old Votes
        </button>
      </div>

      <!-- Statistics Grid -->
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-icon icon-success"><i class="fas fa-thumbs-up"></i></div>
          <div class="stat-info">
            <h3 id="total-likes">0</h3>
            <p>Total Likes</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon icon-error"><i class="fas fa-thumbs-down"></i></div>
          <div class="stat-info">
            <h3 id="total-dislikes">0</h3>
            <p>Total Dislikes</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon icon-primary"><i class="fas fa-users"></i></div>
          <div class="stat-info">
            <h3 id="unique-voters">0</h3>
            <p>Unique Voters</p>
          </div>
        </div>

        <div class="stat-card">
          <div class="stat-icon icon-purple"><i class="fas fa-file-alt"></i></div>
          <div class="stat-info">
            <h3 id="total-articles">0</h3>
            <p>Articles with Votes</p>
          </div>
        </div>
      </div>

      <!-- Content Sections -->
      <div class="content-grid">

        <!-- Most Helpful Articles -->
        <div class="content-section">
          <h2><i class="fas fa-trophy"></i> Most Helpful Articles</h2>
          <div class="table-container">
            <table id="top-articles-table">
              <thead>
                <tr>
                  <th class="sortable">Article</th>
                  <th class="sortable">Likes</th>
                  <th class="sortable">Dislikes</th>
                  <th class="sortable">Helpfulness</th>
                </tr>
              </thead>
              <tbody id="top-articles-body"></tbody>
            </table>
          </div>
        </div>

        <!-- Recent Votes -->
        <div class="content-section">
          <h2><i class="fas fa-clock"></i> Recent Votes</h2>
          <div class="table-container">
            <table id="recent-votes-table">
              <thead>
                <tr>
                  <th class="sortable">Time</th>
                  <th class="sortable">Article</th>
                  <th class="sortable">Vote</th>
                  <th class="sortable">IP</th>
                </tr>
              </thead>
              <tbody id="recent-votes-body"></tbody>
            </table>
          </div>
        </div>

        <!-- Suspicious Activity -->
        <div class="content-section full-width">
          <h2><i class="fas fa-shield-alt"></i> Suspicious Activity</h2>
          <div class="table-container">
            <table id="suspicious-table">
              <thead>
                <tr>
                  <th class="sortable">IP Address</th>
                  <th class="sortable">Vote Count</th>
                  <th class="sortable">Last Activity</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody id="suspicious-body"></tbody>
            </table>
          </div>
        </div>

      </div>

      <!-- Loading Overlay -->
      <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <p>Loading analytics data...</p>
      </div>

    </div>
  </section>


  <!-- Footer -->
  <footer>
    <div class="style-center">
      <a href="#" class="btns"><i class="fas fa-arrow-up style-margin-right"></i>To the top</a>
    </div>
    <div class="container">
      <div class="footer-content">
        <div class="footer-column">
           <h3>Brains</h3>
          <p>Powerful software designed to help businesses of all sizes streamline operations and increase profitability.</p>
          <div class="social-icons">
            <a href="https://www.facebook.com/profile.php?id=100057098153837&mibextid=ZbWKwL" target="_blank"
              aria-label="facebook" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.linkedin.com/company/brains-sarl-lb/" target="_blank" aria-label="linkedin"
              class="social-icon"><i class="fab fa-linkedin-in"></i></a>
            <a href="javascript:void(0)" onclick="sendWhatsAppMessageFooter()" aria-label="whatsapp"
              class="social-icon"><i class="fab fa-whatsapp"></i></a>
          </div>
        </div>

        <div class="footer-column">
          <h3>Quick Links</h3>
          <ul class="footer-links">
            <li><a href="#"><i class="fas fa-chevron-right"></i> Home</a></li>
            <li><a href="../../index.html#features"><i class="fas fa-chevron-right"></i> Features</a></li>
            <li><a href="../HelpCenter.html"><i class="fas fa-chevron-right"></i> Help Center</a></li>
            <li><a href="../../index.html#services"><i class="fas fa-chevron-right"></i> Solutions</a></li>
            <li><a href="../../index.html#contact"><i class="fas fa-chevron-right"></i> Contact</a></li>
          </ul>
        </div>

        <div class="footer-column">
          <h3>Contact Us</h3>
          <ul class="footer-links">
            <li><a href="../../index.html#map"><i class="fas fa-map-marker-alt"></i> Lebanon, Jdeideh, Boulos Bldg, 2nd
                floor</a></li>
            <li><a href="tel:+9611872376"><i class="fas fa-phone-alt"></i> +961 1 872 376</a></li>
            <li><a href="mailto:michel@brains-lb.com"><i class="fas fa-envelope"></i> michel@brains-lb.com</a></li>
            <li><a href="#"><i class="fas fa-clock"></i> Mon-Fri: 9AM - 4:30PM</a></li>
          </ul>
        </div>
      </div>

      <div class="copyright">
        <p>Â© 2025 Brains s.a.r.l | All Rights Reserved - Designed and powered by Brains SARL.</p>
      </div>
    </div>
  </footer>

  <script src="admin.js"></script>
  <script src="../script.js"></script>
  <script src="../rotationborder.js"></script>

  <!-- n8n Chat -->
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />

  <script type="module">
    import { createChat } from 'https://cdn.jsdelivr.net/npm/@n8n/chat/dist/chat.bundle.es.js';

    // Chat Manager with Dark Mode Support
    class BrainsChatManager {
      constructor() {
        this.chatInstance = null;
        this.currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
        this.init();
      }

      init() {
        this.createChat();
        this.watchThemeChanges();
      }

      createChat() {
        this.chatInstance = createChat({
          webhookUrl: 'http://localhost:5678/webhook/c1ff65a5-2f69-44ab-b1c4-152e736a68f7/chat',
          //webhookUrl: 'http://ma2fd0fnv.localto.net/webhook/c1ff65a5-2f69-44ab-b1c4-152e736a68f7/chat',


          target: '#brains-chatbot',
          mode: 'window',

          showWelcomeScreen: true,
          defaultLanguage: 'en',

          initialMessages: [
            'ðŸ‘‹ Welcome to Brains Accounting Assistant!',
            'I can help you with software features, troubleshooting, and guides. What would you like to know?'
          ],

          i18n: {
            en: {
              title: 'Brains Assistant',
              subtitle: 'Your 24/7 Accounting Software Expert',
              footer: '',
              getStarted: 'Start New Conversation',
              inputPlaceholder: 'Get help with Brains AI...',
              waiting: 'Consulting knowledge base...',
              messageError: 'Sorry, please try again',
              messageRetry: 'Retry'
            }
          },

          theme: {
            style: {
              primaryColor: '#2c5aa0',
              secondaryColor: '#20b69e',
              backgroundColor: this.currentTheme === 'dark' ? '#1a1d23' : '#ffffff',
              textColor: this.currentTheme === 'dark' ? '#e9ecef' : '#343a40',
              borderRadius: '0.5rem'
            }
          }
        });
      }

      watchThemeChanges() {
        // Watch for theme changes
        const observer = new MutationObserver((mutations) => {
          mutations.forEach((mutation) => {
            if (mutation.attributeName === 'data-theme') {
              this.currentTheme = document.documentElement.getAttribute('data-theme');
              console.log('Theme changed to:', this.currentTheme);
            }
          });
        });

        observer.observe(document.documentElement, {
          attributes: true,
          attributeFilter: ['data-theme']
        });
      }
    }

    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
      new BrainsChatManager();
    });
  </script>

</body>

</html>